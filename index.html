<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset='utf-8'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>PPP-Karte</title>
  <link rel="stylesheet" href="https://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/3.12/themes/css/cartodb.css" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="map"></div>

  <script type="infowindow/html" id="infowindow_template">
    <span> custom </span>
    <div class="cartodb-popup">
      <a href="#close" class="cartodb-popup-close-button close">x</a>
       <div class="cartodb-popup-content-wrapper">
         <div class="cartodb-popup-content">
           <h2>{{content.data.name}} (age&nbsp;{{content.data.age}})</h2>
         </div>
       </div>
       <div class="cartodb-popup-tip-container"></div>
    </div>
  </script>

  <script src="https://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/3.12/cartodb.js"></script>

  <script>
  window.onload = function() {

  var options = {
    center: [39.02, 35.33],
    zoom: 6,
    minZoom: 5,
    maxZoom: 9,
  };

  cartodb.createVis('map', 'https://correctiv.cartodb.com/api/v2/viz/6a191200-f7c3-11e4-a79a-0e4fddd5de28/viz.json', options)
    .done(function(vis, layers) {
      // there are two layers, base layer and points layer
      var sublayer = layers[1].getSubLayer(0);
      sublayer.set({ 'interactivity': ['cartodb_id', 'name', 'age'] });

      // Set the custom infowindow template defined on the html
      sublayer.infowindow.set('template', $('#infowindow_template').html());

      // add the tooltip show when hover on the point
      vis.addOverlay({
        type: 'tooltip',
        position: 'top|right',
        template: '<p>{{name}} / {{age}}</p>'
      });
    });
  };
  </script>
</body>
</html>
